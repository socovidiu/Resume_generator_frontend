import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useMemo, useState } from "react";
import { useAuth } from "../auth/AuthContext";
import { useNavigate } from "react-router-dom";
import { useLogout } from "../hooks/useLogout";
const Dashboard = () => {
    const { user } = useAuth();
    const navigate = useNavigate();
    const doLogout = useLogout();
    // Mock data placeholder (you'll later replace with API)
    const [resumes] = useState([]);
    const name = useMemo(() => {
        const raw = user?.username || user?.email || "there";
        return raw.split("@")[0];
    }, [user]);
    const greeting = useMemo(() => {
        const h = new Date().getHours();
        if (h < 12)
            return "Good morning";
        if (h < 18)
            return "Good afternoon";
        return "Good evening";
    }, []);
    return (_jsx("div", { className: "min-h-[calc(100vh-4rem)] w-full bg-gradient-to-br from-slate-50 via-white to-indigo-50", children: _jsxs("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 py-8", children: [_jsxs("div", { className: "mb-8 flex flex-wrap items-center justify-between gap-4", children: [_jsxs("div", { className: "flex items-center gap-4", children: [_jsx("div", { className: "h-12 w-12 shrink-0 rounded-full bg-indigo-600 text-white grid place-items-center font-semibold", children: name.slice(0, 2).toUpperCase() }), _jsxs("div", { children: [_jsxs("h1", { className: "text-2xl font-bold text-gray-900", children: [greeting, ", ", name] }), _jsx("p", { className: "text-gray-600", children: "Build, edit, and export your resumes." })] })] }), _jsxs("div", { className: "flex items-center gap-2", children: [_jsx("button", { onClick: () => navigate("/templates"), className: "rounded-lg border px-3 py-2 text-sm hover:bg-white", children: "Browse templates" }), _jsx("button", { onClick: () => navigate("/resume/new"), className: "rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700", children: "+ Create resume" })] })] }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-12 gap-6", children: [_jsx("section", { className: "lg:col-span-8", children: _jsxs("div", { className: "rounded-2xl border bg-white shadow-sm", children: [_jsxs("div", { className: "flex items-center justify-between p-4 sm:p-5 border-b", children: [_jsx("h2", { className: "text-base sm:text-lg font-semibold", children: "Recent resumes" }), _jsx("button", { onClick: () => navigate("/resumes"), className: "text-sm text-indigo-600 hover:underline", children: "View all" })] }), _jsx("div", { className: "p-4 sm:p-5", children: resumes.length === 0 ? (_jsxs("div", { className: "text-center py-12", children: [_jsx("div", { className: "mx-auto mb-3 h-12 w-12 rounded-full bg-indigo-50 grid place-items-center", children: _jsx("svg", { className: "h-6 w-6 text-indigo-600", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: _jsx("path", { strokeWidth: "1.5", strokeLinecap: "round", strokeLinejoin: "round", d: "M12 6v12m6-6H6" }) }) }), _jsx("h3", { className: "font-semibold text-gray-900", children: "Create your first resume" }), _jsx("p", { className: "text-sm text-gray-600 mt-1", children: "You don\u2019t have any resumes yet." }), _jsx("button", { onClick: () => navigate("/resume/new"), className: "mt-4 inline-flex items-center rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700", children: "Get started" })] })) : (_jsx("div", { className: "grid sm:grid-cols-2 gap-4", children: resumes.map((r) => (_jsxs("article", { className: "rounded-lg border p-4 hover:shadow transition", children: [_jsxs("div", { className: "flex items-start justify-between", children: [_jsxs("div", { children: [_jsx("h3", { className: "font-medium text-gray-900", children: r.title }), _jsxs("p", { className: "text-xs text-gray-500 mt-0.5", children: ["Updated ", new Date(r.updatedAt).toLocaleString()] })] }), _jsx("span", { className: "text-xs rounded-full border px-2 py-0.5 text-gray-600", children: r.template })] }), _jsxs("div", { className: "mt-4 flex flex-wrap gap-2", children: [_jsx("button", { onClick: () => navigate(`/resume/${r.id}/edit`), className: "rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50", children: "Edit" }), _jsx("button", { onClick: () => navigate(`/resume/${r.id}/preview`), className: "rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50", children: "Preview" }), _jsx("button", { onClick: () => navigate(`/resume/${r.id}/export`), className: "rounded-md bg-indigo-600 px-3 py-1.5 text-sm text-white hover:bg-indigo-700", children: "Export PDF" })] })] }, r.id))) })) })] }) }), _jsxs("aside", { className: "lg:col-span-4 space-y-6", children: [_jsxs("div", { className: "rounded-2xl border bg-white shadow-sm", children: [_jsx("div", { className: "p-4 sm:p-5 border-b", children: _jsx("h2", { className: "text-base sm:text-lg font-semibold", children: "Templates spotlight" }) }), _jsx("div", { className: "p-4 sm:p-5", children: _jsx("div", { className: "flex gap-4 overflow-x-auto pb-1", children: ["Classic", "Modern", "Compact"].map((t) => (_jsx("button", { onClick: () => navigate(`/templates?pick=${encodeURIComponent(t)}`), className: "min-w-[160px] rounded-xl border aspect-[3/4] overflow-hidden hover:shadow transition grid place-items-center", children: _jsx("span", { className: "text-sm text-gray-700", children: t }) }, t))) }) })] }), _jsx("div", { className: "rounded-2xl border bg-white shadow-sm", children: _jsxs("div", { className: "p-4 sm:p-5", children: [_jsx("h3", { className: "font-semibold text-gray-900", children: "Account" }), _jsx("p", { className: "text-sm text-gray-600 mt-1 break-all", children: user?.email }), _jsxs("div", { className: "mt-4 flex gap-2", children: [_jsx("button", { onClick: () => navigate("/profile"), className: "rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50", children: "Profile settings" }), _jsx("button", { onClick: () => doLogout({ confirm: true }), className: "rounded-md bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 text-sm", children: "Logout" })] })] }) })] })] })] }) }));
};
export default Dashboard;
